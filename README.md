# AZLinli.ORM
AZLinli.ORM

一个轻量级的基于Sql语句的ORM


    
    
        static void Main(string[] args)
        {
            AZLinContext db = new AZLinContext();

            //test git update

            //Model 获取实体对象
            var model = db.GetSingle<User>(m => m.uID == 3);
            if (model!=null)
            {
                var item = model;
                Console.WriteLine($"name:uID,value:{item.uID} \t name:uLoginName,value:{item.uLoginName} \t name:uLoginPWD,value:{item.uLoginPWD} \t name:uRealName,value:{item.uRealName} \t name:uUpdateTime,value:{item.uUpdateTime} \t name:uCreateTime,value:{item.uCreateTime}");
            }

            //Select 查询
            List<User> bks = db.GetList<User>(m => true, q => q.OrderBy(m => m.uID));
            foreach (var item in bks)
            {
                Console.WriteLine($"name:uID,value:{item.uID} \t name:uLoginName,value:{item.uLoginName} \t name:uLoginPWD,value:{item.uLoginPWD} \t name:uRealName,value:{item.uRealName} \t name:uUpdateTime,value:{item.uUpdateTime} \t name:uCreateTime,value:{item.uCreateTime}");
             
            }

            //Update 更新
            var author = db.GetSingle<User>(m => true, q => q.OrderBy(m => m.uID));
            if (author != null)
            {
                author.uLoginName = "jim";
                var effect = db.Update(author);
            }

            //Add 添加
            User user = new User()
            {
                uLoginName="zhagnsan"+Guid.NewGuid().ToString(),
                uLoginPWD="ddddd154sdfsf",
                uRealName="no tell uuuuu",
                uStatus=1,
                uRemark="",
                uCreateTime=DateTime.Now,
                uUpdateTime=DateTime.Now,
            };
            var data = db.Add(user);

            Console.WriteLine($"name:uID,value:{data}");




            //StringBuilder sql = new StringBuilder();
            //List<DbParameter> parameters = new List<DbParameter>();

            //sql.AppendFormat(@"SELECT {0} from User WHERE ", "*");
            //sql.Append(" uID>@uID ");
            //parameters.Add(db.GetDbParameter("uID", 0));

            //PageFilter pageFilter = new PageFilter { PageIndex = 1, PageSize = 5 };
            //pageFilter.OrderText = "uID ASC";
            //PageDataSource<User> books = db.GetPage<User>(sql.ToString(), pageFilter, parameters.ToArray());
            
            
            
            Console.ReadKey();
            
        }
        public class User
    {
        [Key(IsAutoGenerated = true)]
        public int uID { get; set; }
        public string uLoginName { get; set; }
        public string uLoginPWD { get; set; }
        public string uRealName { get; set; }
        public int uStatus { get; set; }
        public string uRemark { get; set; }
        public System.DateTime uCreateTime { get; set; }
        public System.DateTime uUpdateTime { get; set; }
    }
        
        
        

